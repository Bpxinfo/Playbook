import{c as p,r as i,j as e,s as b}from"./index-D-XsZ_xs.js";import{C as f}from"./circle-check-ucjL2cGg.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=p("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),N=()=>{const[s,l]=i.useState({name:"",email:"",section:"",requestType:"revision",description:""}),[u,c]=i.useState(!1),[o,r]=i.useState(""),[d,m]=i.useState(!1),x=async n=>{if(n.preventDefault(),!s.name||!s.email||!s.description){r("Please fill in all required fields");return}m(!0);try{const{error:t}=await b.from("feedback").insert([{name:s.name,email:s.email,section:s.section,request_type:s.requestType,description:s.description,submitted_at:new Date().toISOString()}]);if(t)throw t;c(!0),r(""),setTimeout(()=>{l({name:"",email:"",section:"",requestType:"revision",description:""}),c(!1)},3e3)}catch(t){r("Failed to submit feedback. Please try again later."),console.error("Error submitting feedback:",t)}finally{m(!1)}},a=n=>{const{name:t,value:g}=n.target;l(h=>({...h,[t]:g})),r("")};return e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-4xl font-light text-white mb-6 text-center bg-red-800 p-4 uppercase",children:"Submit Feedback"}),e.jsxs("div",{className:"space-y-6",children:[u&&e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(f,{className:"h-5 w-5 text-green-600 mr-2"}),e.jsx("h3",{className:"text-gray-800 font-medium",children:"Success"})]}),e.jsx("p",{className:"text-gray-700 mt-2",children:"Your feedback has been submitted successfully. Thank you for helping improve the playbook!"})]})}),o&&e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(y,{className:"h-5 w-5 text-red-600 mr-2"}),e.jsx("h3",{className:"text-gray-800 font-medium",children:"Error"})]}),e.jsx("p",{className:"text-gray-700 mt-2",children:o})]})}),e.jsx("section",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-lg font-medium text-gray-700",children:"Name *"}),e.jsx("input",{type:"text",name:"name",value:s.name,onChange:a,className:"w-full p-2 border rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-red-800 focus:border-transparent",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-lg font-medium text-gray-700",children:"Email *"}),e.jsx("input",{type:"email",name:"email",value:s.email,onChange:a,className:"w-full p-2 border rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-red-800 focus:border-transparent",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-lg font-medium text-gray-700",children:"Section"}),e.jsxs("select",{name:"section",value:s.section,onChange:a,className:"w-full p-2 border rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-red-800 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select a section"}),e.jsx("option",{value:"playbook-overview",children:"Playbook Overview"}),e.jsx("option",{value:"ccc-initiative",children:"CCC Initiative"}),e.jsx("option",{value:"processes",children:"Processes & Governance"}),e.jsx("option",{value:"systems",children:"Systems"}),e.jsx("option",{value:"communications",children:"Communications"}),e.jsx("option",{value:"internal-onboarding",children:"Internal Onboarding"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-lg font-medium text-gray-700",children:"Request Type"}),e.jsxs("select",{name:"requestType",value:s.requestType,onChange:a,className:"w-full p-2 border rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-red-800 focus:border-transparent",children:[e.jsx("option",{value:"revision",children:"Content Revision"}),e.jsx("option",{value:"addition",children:"Content Addition"}),e.jsx("option",{value:"bug",children:"Bug Report"}),e.jsx("option",{value:"suggestion",children:"General Suggestion"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-lg font-medium text-gray-700",children:"Description *"}),e.jsx("textarea",{name:"description",value:s.description,onChange:a,rows:4,className:"w-full p-2 border rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-red-800 focus:border-transparent",required:!0})]}),e.jsx("button",{type:"submit",className:"w-full bg-red-800 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors disabled:bg-red-500",disabled:d,children:d?"Submitting...":"Submit Feedback"})]})})]})]})})};export{N as default};
